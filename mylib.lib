;---------for task#2---------
task2 macro 
mov cx,0
input:
mov ah,1
int 21h
cmp al,0Dh
JE break
push ax
inc cx
jmp input
break:
endm
;----------------------------
;---------for task#3---------
Chars_Print macro startingChar,numOfchars
mov cx,numOfchars
mov ah,2
mov dl,startingChar
TOP:
int 21h
inc dl
loop TOP
endm
;------------------------
UserString macro Arr,sizee,label1,label2
 mov si,offset Arr
 mov cx,lengthof Arr
 label1:
 mov ah,1
 int 21h
 cmp al,0Dh
 je label2
 mov [si],al
 inc si
 inc sizee
 loop label1

 label2:
endm
;------------------------
DATE macro
mov ah,2Ch  	;command to get System Time
int 21h

mov al,ch  		;ch stores hours(1 - 24) of time
aam				;it is used to adjust the ascii of base 10 numbers in 16 bit register
mov bx,ax		
call OutputT
call Colon

mov al,cl  		;cl stores Minutes(1 - 60) of time
aam
mov bx,ax
call OutputT
call Colon

mov al,dh  		;dh stores seconds(1 - 60) of time
aam				
mov bx,ax		
call OutputT
call Endline

mov ah,2Ah  	;command to get System Date
int 21h

mov al,dl		;dl stores days(1 - 31) of Date
aam
mov bx,ax
call OutputT
call Slash

mov al,dh		;dh stores Months(1 - 12) of Date
aam
mov bx,ax
call OutputT
call Slash

sub cx,2000 	;To get the last 2 digits of year
mov ax,cx		;cx stores Years of Date
aam
mov bx,ax
call OutputT
endm
;------------------------
String macro input
mov dx,offset input
mov ah,9
int 21h
endm
;------------------------
CreateFile macro NameofFile,Handlee	 		;Macro to Create File
mov ah,3ch  						
lea dx,NameofFile
mov cl,0							
int 21h		
jc Errorr						
mov Handlee,ax 					
endm
;------------------------
OpenFile macro NameofFile,Handlee,Access	;Macro to Open File
mov ah,3dh 								
lea dx,NameofFile
mov al,Access							
int 21h
jc Errorr
mov Handlee,ax 
endm
;---------------------------
CloseFile macro Handleee			;Macro to Close File
mov ah,3eh					
mov bx,Handleee	
int 21h
jc Errorr	
endm
;----------------------------
WriteFile macro Arr,Handlee,size		;Macro to Write File
mov ah,40h                					
mov bx,Handlee
mov cx,size     				
lea dx,Arr              	
int 21h
jc Errorr
endm
;--------------------------------
ReadFile macro Arr,Handlee			;Macro to Read File
mov ah, 3Fh                
lea dx, Arr  
mov cx, lengthof Arr  		
mov bx, Handlee                 
int 21h
jc Errorr
endm
;-----------------------------------
AppendFile macro Arr,Handlee,Access
mov ah,42h				
mov al,Access                  ;0 = Beggining Of File, 1 = current location, 2 = End Of File
mov bx,Handlee
;CX:DX = offset from file pointer
mov cx,0
mov dx,lengthof Arr
int 21h
endm
;-----------------------------------
DeleteFile macro NameofFile
 lea dx,FileName                ; Load the file path to DX
 mov AH,41H                 ; Delete the File, AH=41H
 int 21H              
 jc Errorr
endm
;-----------------------------------
InputR macro
mov ah,07      
int 21h
endm
;------------------------------------
OutputR macro
mov ah,2
int 21h
endm
;------------------------------------

;-------------------------------------
MAIN_MENU macro

    M1 db    ' ==============================================================================',10,10
	   db    '                      ||========================||',10
       db    '                      ||         C O A L        ||',10
       db    '              ||-----------------------------------------||',10 	   
	   db    '              ||        				 ||',10
       db    '              ||     S E M E S T E R     P R O J E C T   ||',10  
       db    ' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||        P A R K I N G       M A N A G E M E N T        S Y S T E M      ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10 
       db    ' ||                                                                        ||',10 
       db    ' ||               	       W E L C O M E		                   ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10 
       db    '              ||     C O M P U T E R  S C I E N C E      ||',10
       db    '              ||           D E P A R T M E N T           ||',10 
       db    '              ||-----------------------------------------||',10 
       db    '                      ||       BSCS - III(C)    ||',10
       db    '                      ||========================||',10,10  
	   db    ' ==============================================================================$',10

endm
;-------------------------------------------------------------------------------------------------------
EXIT_DISPLAY macro
		E1	db	10,10,10,10
			db	'                        ________________________________',10
		    db  '                        |                              |',10
			db	'                        |     T H A N K  Y O U !!!     |',10
			db	'                        |______________________________|$',10
endm
;-------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------
WRONG_INPUT macro
		W1	db	'                        ________________________________',10
		    db  '                        |                              |',10
			db	'                        |          E R R O R !!!       |',10
			db	'                        |______________________________|$',10
endm
;-------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------
UA_DISPLAY macro
		U1	db	10,10,10,10,'                        ________________________________',10
		    db  '                        |                              |',10
			db	'                        |     1 ->     U S E R         |',10
			db	'                        |______________________________|',10,10,10,10,10
			db	'                        ________________________________',10
		    db  '                        |                              |',10
			db	'                        |     2 ->    A D M I N        |',10
			db	'                        |______________________________|',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------
USER_MENU macro
	U2 db 10,' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||                   P A R K I N G       O P T I O N S   ! ! !            ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10
	   db 10,10,'   ________________________________    ________________________________',10
		    db  '   |                              |    |                              |',10
			db	'   |     1 ->     B I K E         |    |     2 ->     B U S           |',10
			db	'   |______________________________|    |______________________________|',10
			db	'   ________________________________    ________________________________',10
		    db  '   |                              |    |                              |',10
			db	'   |     3 ->     C Y C L E       |    |     4 ->     C A R           |',10
			db	'   |______________________________|    |______________________________|',10
			db	'   ________________________________    ________________________________',10
		    db  '   |                              |    |                              |',10
			db	'   |    5 ->   M A I N   M E N U  |    |     6 ->     E X I T         |',10
			db	'   |______________________________|    |______________________________|',10,'$'

endm
;-------------------------------------------------------------------------------------------------------
ADMIN_MENU macro
	A2 db 10,' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||                   W E L C O M E        A D M I N   ! ! !               ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10
	   db 10,10,'   ________________________________    ________________________________',10
		    db  '   |                              |    |                              |',10
			db	'   |   1 ->  COPY OF RECENT BILL  |    |   2 ->  DELETE THE RECEIPT   |',10
			db	'   |______________________________|    |______________________________|',10
			db	'   ________________________________    ________________________________',10
		    db  '   |                              |    |                              |',10
			db	'   |   3 ->  CREATE RECIEPT       |    |   4 ->   UPDATE RECEIPT      |',10
			db	'   |______________________________|    |______________________________|',10
			db	'   ________________________________    ________________________________',10
		    db  '   |                              |    |                              |',10
			db	'   |   5 ->  SEARCH RECEIPT       |    |   6 ->   M A I N   M E N U   |',10
			db	'   |______________________________|    |______________________________|',10
			db	'                     ________________________________',10
		    db  '                     |                              |',10
			db	'                     |     7 ->     E X I T         |',10
			db	'                     |______________________________|',10,'$'
endm
;-------------------------------------------------------------------------------------------------------
Bike macro
	B1 db 10,' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||        P A R K I N G   F E E :  Rs. 30  (P E R  H O U R)   ! ! !       ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
CYCLE macro
	C1 db 10,' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||        P A R K I N G   F E E :  Rs. 15  (P E R  H O U R)   ! ! !       ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
CAR macro
	C2 db 10,' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||        P A R K I N G   F E E :  Rs. 120  (P E R  H O U R)   ! ! !      ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
BUS macro
	B2 db 10,' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||        P A R K I N G   F E E :  Rs. 300  (P E R  H O U R)   ! ! !      ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
Parked macro
		P1	db	10,10,10,10,10,10,10,10,10,10
			db	'                                                        ',10
		    db  '                                                        ',10
			db	'                                 P A R K E D  !!!       ',10,'$'
endm
;-------------------------------------------------------------------------------------------------------
AllRecords macro
	A3 db 10,' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||                      R E C E N T   R E C O R D S     ! ! !             ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
Updatee macro
	A4 db 10,' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||                      U P D A T E   R E C O R D      ! ! !              ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
Updateed macro
	A5 db 10,' ||------------------------------------------------------------------------||',10  	
       db    ' ||                                                                        ||',10 
       db    ' ||                      U P D A T E D   R E C O R D      ! ! !            ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
Create_Receipt macro
	D1 db 10,10,10,10,10,10,10 	
	   db 10,' ||------------------------------------------------------------------------||',10  
       db    ' ||                                                                        ||',10 
       db    ' ||             C R E A T E    R E C I E P T     F I R S T     ! ! !       ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
Delete_Alll macro
	D2 db 10,10,10,10,10,10,10
	   db 10,' ||------------------------------------------------------------------------||',10   	
       db    ' ||                                                                        ||',10 
       db    ' ||                      R E C O R D    D E L E T E D   ! ! !              ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;------------------------------------------------------------------------------------------------------
Createe macro
	C3 db 10,10,10,10,10,10,10
       db 10,' ||------------------------------------------------------------------------||',10 	
       db    ' ||                                                                        ||',10 
       db    ' ||                    R E C I E P T   C R E A T E D   ! ! !               ||',10
	   db    ' ||                                                                        ||',10	   
       db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
endm
;-------------------------------------------------------------------------------------------------------
SomeMsg macro
l3 db    10,' ==============================================================================',10
NameMsg db 10,'                  Name         :     '
ModelMsg db 10,10,'   Transport Name & Model      :     '
TimeMsg db 10,10,' Duration of Parking(In Hours) :     '
FeeMsg db 10,10,'              TOTAL BILL       :  Rs.  '
tempMsg db '          PRESS ENTER TO PROCEED       $'
searchmsg db 10,10,10,10,'         Enter The Name Of RECEIPT:       $'
Updateprice db 10,10,'           Enter Updated Price :     $'
tempMsg1 db 10,10,10,10,10,10,10
		 db 10,' ||------------------------------------------------------------------------||',10  	
		 db    ' ||                                                                        ||',10 
		 db    ' ||                      GO TO ADMIN TO GET THE SLIP     ! ! !             ||',10
	     db    ' ||                                                                        ||',10	   
         db    ' ||------------------------------------------------------------------------||',10,10,10,'$'
tempArray db 5 dup(?)
SearchArray db 20 dup('$')
sizeofsearch dw 0
tempsize dw 0
endm
;-------------------------------------------------------------------------------------------------------
Line macro
	l1 db    10,10,10,' ==============================================================================',10,'$'
endm
Line2 macro
	l2 db    10,10,' ==============================================================================$'
endm
;-------------------------------------------------------------------------------------------------------
;                                       GRAPHICS
;---------------------------------------------------------------------------------------------------------
Unique macro
 mov ax,1b800h
 mov ds,ax
 mov al,0
 mov bx,0
 mov cx,4000
 mov dl,1
 cc1:
 mov[bx+1],al
 inc bx
 inc bx
 loop cc1
 call dly
 call dly
 call dly
 call dly
 mov bx,0
 add al,10h
 cmp al,0f0h
 jnz cc1
 mov al,0
 inc dl
 cmp dl,3
 jne cc1
 
 mov ax,@data			
 mov ds,ax
endm
;-----------------------------------------------------------------------------------------------------------
blueback macro
mov ah,00            ;set mode option
mov al,03   
int 10h

mov ah,09
mov bh,00
mov al,20h
mov cx,800h
mov bl,1fh
int 10h
endm
;----------------------------------------------------------------
boldscreen macro
mov ah,7
mov al,0
mov bh,0
mov cl,0
mov ch,0

mov bh,01001110b
mov dh,24
mov dl,79
int 10h
endm
;------------------------------------------------------------------------
boldscreen1 macro
mov ah,7
mov al,0
mov bh,0
mov cl,0
mov ch,0

mov bh,01101111b
mov dh,24
mov dl,79
int 10h
endm
;------------------------------------------------------------------------
boldscreen2 macro
mov ah,7
mov al,0
mov bh,0
mov cl,0
mov ch,0

mov bh,10011111b
mov dh,24
mov dl,79
int 10h
endm
;------------------------------------------------------------------------
boldscreen3 macro
mov ah,7
mov al,0
mov bh,0
mov cl,0
mov ch,0

mov bh,01110000b
mov dh,24
mov dl,79
int 10h
endm
;------------------------------------------------------------------------
Blink macro
mov ah,7
mov al,0
mov bh,0
mov cl,0
mov ch,0

mov bh,10001100b
mov dh,24
mov dl,79
int 10h
endm
;-----------------------------------------------------------------------
Square macro
mov ah,0
mov al,3
int 10h

mov ah,6
mov cx,081Ah
mov dx,1034h
mov bh,43h
mov al,0
int 10h
endm
;-----------------------------------------------------------------------
Beep macro
mov     al, 182         ; Prepare the speaker for the
        out     43h, al         ;  note.
        mov     ax, 8690        ; Frequency number (in decimal)
                                ;  for middle C.
        out     42h, al         ; Output low byte.
        mov     al, ah          ; Output high byte.
        out     42h, al 
        in      al, 61h         ; Turn on note (get value from
                                ;  port 61h).
        or      al, 00000011b   ; Set bits 1 and 0.
        out     61h, al         ; Send new value.
        mov     bx, 20          ; Pause for duration of note.
		
		pause1:
			mov     cx, 55535
			
		pause2:
			dec     cx
			jne     pause2
			dec     bx
			jne     pause1
			in      al, 61h         ; Turn off note (get value from
									;  port 61h).
			and     al, 11111100b   ; Reset bits 1 and 0.
			out     61h, al           ; Send new value.
			int 21h
			
			mov ah, 01
			int 21h
			cmp al, 1
endm